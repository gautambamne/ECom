# User Endpoints

/users/me:
  get:
    tags:
      - Users
    summary: Get current user profile
    description: Retrieves the authenticated user's profile information
    security:
      - bearerAuth: []
      - cookieAuth: []
    responses:
      '200':
        description: User profile retrieved successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'
            example:
              local_date_time: "2023-10-01T10:00:00Z"
              data:
                user:
                  id: "user123"
                  name: "John Doe"
                  email: "john.doe@example.com"
                  role: "USER"
                  isVerified: true
                  createdAt: "2023-10-01T10:00:00Z"
                  updatedAt: "2023-10-01T10:00:00Z"
              api_error: null
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'

/users/update:
  put:
    tags:
      - Users
    summary: Update user profile
    description: Updates the authenticated user's name
    security:
      - bearerAuth: []
      - cookieAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - name
            properties:
              name:
                type: string
                minLength: 3
                maxLength: 50
                description: User's full name
                example: "John Smith"
    responses:
      '200':
        description: User profile updated successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'
            example:
              local_date_time: "2023-10-01T12:00:00Z"
              data:
                user:
                  id: "user123"
                  name: "John Smith"
                  email: "john.doe@example.com"
                  role: "USER"
                  isVerified: true
                  createdAt: "2023-10-01T10:00:00Z"
                  updatedAt: "2023-10-01T12:00:00Z"
              api_error: null
      '400':
        description: Bad request - Invalid input
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'

/users/update-password:
  put:
    tags:
      - Users
    summary: Update user password
    description: Updates the authenticated user's password
    security:
      - bearerAuth: []
      - cookieAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - currentPassword
              - newPassword
            properties:
              currentPassword:
                type: string
                minLength: 6
                description: Current password
                example: "currentpassword123"
              newPassword:
                type: string
                minLength: 6
                description: New password
                example: "newpassword123"
    responses:
      '200':
        description: Password updated successfully
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'
            example:
              local_date_time: "2023-10-01T12:00:00Z"
              data:
                message: "Password updated successfully"
              api_error: null
      '400':
        description: Bad request - Invalid input or wrong current password
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'